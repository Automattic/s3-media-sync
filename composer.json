{
    "name": "wpcomvip/s3-media-sync",
    "type": "wordpress-plugin",
    "minimum-stability": "dev",
    "require": {
        "composer/installers": "~1.0",
        "aws/aws-sdk-php": "~3.150.1"
    },
    "scripts": {
        "post-install-cmd": "@prefix-dependencies",
        "post-update-cmd": "@prefix-dependencies",
        "prefix-dependencies": [
            "rm -rf php-scoper-tmp && mkdir php-scoper-tmp",
            "composer init --no-interaction --working-dir=php-scoper-tmp && composer config minimum-stability dev --working-dir=php-scoper-tmp",
            "composer require humbug/php-scoper:^0.14.0 --working-dir=php-scoper-tmp --prefer-stable",
            "php-scoper-tmp/vendor/bin/php-scoper add-prefix --output-dir vendor_prefixed/ --config scoper.inc.php --force",
            "rm -rf php-scoper-tmp",
            "composer --working-dir=./vendor_prefixed dumpautoload -o"
        ]
    }
}
